{% extends "base.html" %}
{% load utilities_tags frontpage_tags %}

{% block title %}{{ object }} | F1Online.Ru{% endblock %}
{% block title_wrap %}{% endblock %}

{% block content %}   
    {% if object.photo %}
    	<div id="driver-img">
    		<img src="{{ object.photo.url }}" alt="{{ object }}" class="driver-photo" />
    		<div style="font-size:11px;color:#999;text-align:center;">&copy; Photo copyright</div>
    		{% if object.website %}
    		<div class="info">
				<img src="/media/img/website.png" alt="Website" class="info" />
	    		{{ object.website|urlize }}
    		</div>
    		{% endif %}
		    {% if object.twitter %}
		    <div class="info">
				<img src="/media/img/twitter.png" alt="Twitter" class="info" />
	    		<a href="http://twitter.com/{{ object.twitter }}">{{ object.twitter }}</a>
    		</div>
    		{% endif %}
   		</div>
	{% endif %}
<div id="driver-details">
	{{ object.id }}
    <h1>{{ object.first_name }} {{ object.family_name }}</h1>
    <h3>{{ object.en_first_name }} {{ object.en_family_name }}</h3>
	{% if object.get_racer_champion %}
		<ul class="cups">
		{% for year in object.get_racer_champion %}
			<li>{{ year }}</li>
		{% endfor %}
		</ul>
	{% endif %}
	<table>
	    <tr>
	    	<th>{{ object.get_verbose_name.country }}</th> 
	    	<td><span class="flag {{ object.country.en_name|slugify }} left"></span> {{ object.country }}</td>
    	</tr>
    	<tr>
		    <th>{{ object.get_verbose_name.birthday }}</th>
		    <td class="date">{{ object.birthday|date_local:"j F Y" }}</td>
	    </tr>
	    <tr>
		    <th>
                {% if object.deathday %}
                    {{ object.get_verbose_name.deathday }}
                {% else %}
		            {{ object.get_verbose_name.get_age }}
	            {% endif %}
	        </th>
		    <td class="date">
                {% if object.deathday %}
                    {{ object.deathday|date_local:"j F Y" }} ({{ object.get_age }})
                {% else %}
		            {{ object.get_age }}
	            {% endif %}
	        </td>
	    </tr>
	    <tr>
		    <th>&nbsp;</th>
		    <td>&nbsp;</td>
	    </tr>	    
        <tr>
            <th>{{ object.get_verbose_name.get_first_grandprix }}</th>
            <td>
            	{% if object.get_first_grandprix %}
            	<a href="{% url grand_prix_detail object.get_first_grandprix.id %}">
            		{{ object.get_first_grandprix.name }} {{ object.get_first_grandprix.season }}
           		</a>
           		{% else %}
	    			-
           		{% endif %}
       		</td>
        </tr>
	    <tr>
		    <th>{{ object.get_verbose_name.get_last_grandprix }}</th>
		    <td>
		    	{% if object.get_first_grandprix %}
		    	<a href="{% url grand_prix_detail object.get_last_grandprix.id %}">
		    		{{ object.get_last_grandprix.name }} {{ object.get_last_grandprix.season }}
	    		</a>
	    		{% else %}
	    			-
	    		{% endif %}
    		</td>
	    </tr>
		<tr>
	    	<th>{{ object.get_verbose_name.get_season_count }}</th>
	    	<td>{{ object.get_season_count }}</td>
	    </tr>	    
	    <tr>
		    <th>{{ object.get_verbose_name.get_grand_prix_count }}</th>
		    <td>{{ object.get_grand_prix_count }}</td>
	    </tr>	    
	    <tr>
		    <th>{{ object.get_verbose_name.get_race_count }}</th>
		    <td>{{ object.get_race_count }}</td>
	    </tr>
	    <tr>
	    	<th>{{ object.get_verbose_name.get_win_count }}</th>
	    	<td>{{ object.get_win_count }}</td>
	    </tr>
	    <tr>
	    	<th>{{ object.get_verbose_name.get_podium_count }}</th>
	    	<td>{{ object.get_podium_count }}</td>
	    </tr>
	    <tr>
	    	<th>{{ object.get_verbose_name.get_poles_count }}</th>
	    	<td>{{ object.get_poles_count }}</td>
	    </tr>
	    <tr>
	    	<th>{{ object.get_verbose_name.get_bestlap_count }}</th>
	    	<td>{{ object.get_bestlap_count }}</td>
	    </tr>
	    <tr>
	    	<th>{{ object.get_verbose_name.get_points_count }}</th>
	    	<td>{{ object.get_points_count|floatformat:"-2" }}</td>
	    </tr>
	    <tr>
	    	<th>{{ object.get_verbose_name.get_fail_count }}</th>
	    	<td>{{ object.get_fail_count }}</td>
	    </tr>
    </table>
</div>
{% endblock %}

{% block sidebar %}
	{% show_current_letter object.family_name %}
{% endblock %}
